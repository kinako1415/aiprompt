# 03. UI・UX要件

## 🎨 デザイン原則

### デザインフィロソフィー
**「効率性と直感性の両立」**

1. **シンプルな複雑性**: 高機能でありながら直感的な操作性
2. **情報の階層化**: 重要な情報を優先的に表示
3. **一貫性**: 全画面で統一されたデザイン言語
4. **レスポンシブ**: あらゆるデバイスで最適な体験
5. **アクセシビリティ**: 誰もが使いやすいユニバーサルデザイン

### カラーパレット
**プライマリカラー**:
- **メインブルー**: #2563EB（信頼性、知性を表現）
- **アクセントグリーン**: #10B981（成功、改善を表現）
- **ワーニングオレンジ**: #F59E0B（注意、重要を表現）

**セカンダリカラー**:
- **ダークグレー**: #1F2937（テキスト、背景）
- **ライトグレー**: #F9FAFB（背景、ボーダー）
- **ホワイト**: #FFFFFF（基本背景）

### タイポグラフィ
- **フォントファミリー**: Inter, 'Noto Sans JP', sans-serif
- **見出し**: 24px-32px, font-weight: 600-700
- **本文**: 14px-16px, font-weight: 400-500
- **キャプション**: 12px-14px, font-weight: 400

---

## 📱 画面設計詳細

### 1. トップページ（ダッシュボード）

#### 1.1 レイアウト構成
```
┌─────────────────────────────────────────────────┐
│ ヘッダー（検索バー、ユーザーメニュー）                   │
├─────────────────────────────────────────────────┤
│ サイドバー │ メインコンテンツエリア                    │
│ ┌─────────┐ │ ┌─────────────────────────────────┐ │
│ │ナビ     │ │ │ クイックアクション              │ │
│ │メニュー  │ │ ├─────────────────────────────────┤ │
│ │        │ │ │ プロンプト一覧                 │ │
│ │        │ │ │                              │ │
│ └─────────┘ │ └─────────────────────────────────┘ │
└─────────────────────────────────────────────────┘
```

#### 1.2 ヘッダー要素
**検索バー**:
- 中央配置、幅60%
- プレースホルダー: "プロンプトを検索..."
- 検索候補のドロップダウン表示
- 高度な検索へのリンク

**右上メニュー**:
- 新規作成ボタン（+アイコン）
- 通知アイコン（未読数バッジ付き）
- ユーザーアバター（ドロップダウンメニュー）

#### 1.3 サイドバーナビゲーション
**主要メニュー**:
- 🏠 ダッシュボード
- 📝 マイプロンプト
- ⭐ お気に入り
- 🧩 テンプレート
- 👥 共有・チーム
- 🏆 コミュニティ
- 📊 統計・分析
- ⚙️ 設定

**フィルター**:
- カテゴリー別表示
- タグによる絞り込み
- 作成日・更新日

#### 1.4 メインコンテンツ
**クイックアクションエリア**:
- 新規プロンプト作成
- テンプレートから作成
- インポート
- AIアシスタント起動

**プロンプト一覧**:
- カード形式の表示
- グリッド・リスト表示の切り替え
- 無限スクロール
- ドラッグ&ドロップ対応

### 2. プロンプト詳細ページ

#### 2.1 情報セクション
**プロンプト基本情報**:
```
┌─────────────────────────────────────────┐
│ タイトル [編集] [複製] [削除] [共有]      │
├─────────────────────────────────────────┤
│ カテゴリ | タグ | 評価 | 使用回数        │
├─────────────────────────────────────────┤
│ プロンプト本文（編集可能）                │
│ ┌─────────────────────────────────────┐ │
│ │                                  │ │
│ │                                  │ │
│ └─────────────────────────────────────┘ │
└─────────────────────────────────────────┘
```

#### 2.2 機能タブ
**タブ構成**:
1. **実行・テスト**: AIとの連携実行
2. **結果履歴**: 過去の実行結果と評価
3. **バージョン**: 変更履歴とバージョン管理
4. **改善提案**: AI支援による改善案
5. **要素分解**: プロンプト構造の分析

#### 2.3 実行・テストタブ
**AIモデル選択**:
- ドロップダウンでモデル選択
- パラメータ設定（temperature等）
- APIキー設定状況表示

**実行ボタン**:
- 大きな実行ボタン
- 実行中のローディング表示
- 推定コスト表示

**結果表示エリア**:
- レスポンシブな結果表示
- 結果のコピー・保存機能
- 即座の評価入力

### 3. 新規プロンプト作成画面

#### 3.1 作成フロー
```
ステップ1: 基本情報入力
    ↓
ステップ2: プロンプト本文作成
    ↓
ステップ3: 分類・タグ設定
    ↓
ステップ4: プレビュー・保存
```

#### 3.2 プロンプト入力エリア
**メインエディタ**:
- 大きなテキストエリア（可変高さ）
- シンタックスハイライト（変数等）
- 文字数カウント
- リアルタイムプレビュー

**サイドパネル**:
- AI改善提案（リアルタイム）
- 類似プロンプト検索
- 要素分解プレビュー
- テンプレート化提案

#### 3.3 AI支援機能
**リアルタイム提案**:
- 入力に応じた改善案表示
- ワンクリック適用
- 提案理由の説明
- 提案の履歴管理

### 4. テンプレート管理画面

#### 4.1 テンプレート一覧
**表示形式**:
- カード形式（デフォルト）
- テーブル形式
- 詳細リスト形式

**カード要素**:
- テンプレート名
- 変数数
- 使用回数
- 最終更新日
- 公開/非公開ステータス

#### 4.2 テンプレート作成・編集
**変数定義エリア**:
```
┌─────────────────────────────────────────┐
│ 変数一覧                               │
│ ┌─────────┬─────────┬─────────┬───────┐ │
│ │変数名    │型       │必須     │操作   │ │
│ ├─────────┼─────────┼─────────┼───────┤ │
│ │{{name}} │文字列    │✓       │編集削除│ │
│ │{{date}} │日付     │         │編集削除│ │
│ └─────────┴─────────┴─────────┴───────┘ │
│ [+ 変数追加]                           │
└─────────────────────────────────────────┘
```

#### 4.3 テンプレート使用画面
**変数入力フォーム**:
- 変数に応じた適切な入力フィールド
- バリデーション機能
- デフォルト値の表示
- 入力例の提示

**プレビューエリア**:
- リアルタイムプレビュー
- 生成されるプロンプトの表示
- 文字数・複雑さの表示

### 5. 共有・コミュニティ画面

#### 5.1 公開プロンプトギャラリー
**フィルタリング**:
- カテゴリ別
- 人気順・新着順・評価順
- タグによる絞り込み
- 作成者によるフィルタ

**プロンプトカード**:
```
┌─────────────────────────────────────────┐
│ [タイトル] ⭐4.8 ❤️123 👁️1.2k         │
│ 説明文...                              │
│ #タグ1 #タグ2 #タグ3                   │
│ by @username | 3日前                   │
│ [試す] [複製] [いいね] [シェア]          │
└─────────────────────────────────────────┘
```

#### 5.2 フォーラム機能
**ディスカッション表示**:
- スレッド形式
- 投票機能（いいね・よくない）
- 返信機能
- ベストアンサー選択

**投稿エディタ**:
- リッチテキストエディタ
- プロンプトの埋め込み
- 画像・ファイル添付
- プレビュー機能

### 6. 統計・分析画面

#### 6.1 ダッシュボード
**KPIカード**:
```
┌─────────────┬─────────────┬─────────────┐
│ 総プロンプト数│ 平均評価     │ 今月の使用数  │
│     243     │    4.2     │    1,847   │
│    ↑ 12    │   ↑ 0.3    │   ↑ 234    │
└─────────────┴─────────────┴─────────────┘
```

#### 6.2 チャート・グラフ
**使用傾向グラフ**:
- 時系列での使用状況
- カテゴリ別使用分布
- 評価スコアの推移
- インタラクティブなチャート

**パフォーマンス分析**:
- プロンプト品質ヒートマップ
- 改善効果の可視化
- A/Bテスト結果の比較

---

## 🎯 UXパターン

### 1. オンボーディング

#### 1.1 初回ユーザー体験
**ウェルカムフロー**:
1. **アカウント作成**:
   - シンプルなサインアップフォーム
   - ソーシャルログイン対応
   - メールアドレス確認

2. **プロフィール設定**:
   - 基本情報入力
   - 使用目的の選択
   - 興味のあるカテゴリ選択

3. **チュートリアル**:
   - インタラクティブなツアー
   - 主要機能の説明
   - サンプルプロンプトでの実習

4. **最初のプロンプト作成**:
   - ガイド付きプロンプト作成
   - テンプレートからの選択
   - 作成完了の達成感演出

#### 1.2 段階的機能開放
**プログレッシブディスクロージャー**:
- 基本機能から開始
- 使用状況に応じて高度な機能を提案
- 機能発見のタイミング最適化

### 2. 効率的なワークフロー

#### 2.1 キーボードファースト設計
**ショートカット体系**:
- `Ctrl/Cmd + N`: 新規プロンプト作成
- `Ctrl/Cmd + /`: 検索フォーカス
- `Ctrl/Cmd + S`: 保存
- `Ctrl/Cmd + Enter`: 実行
- `Esc`: モーダル閉じる

#### 2.2 コンテキストメニュー
**右クリックメニュー**:
- プロンプトカード: 編集、複製、削除、共有
- テキスト選択: コピー、テンプレート化、改善提案
- 空白エリア: 新規作成、ペースト

#### 2.3 ドラッグ&ドロップ
**対応操作**:
- プロンプトのカテゴリ間移動
- ファイルのインポート
- 要素の並び替え
- お気に入りへの追加

### 3. フィードバックとガイダンス

#### 3.1 インラインヘルプ
**ヘルプ表示**:
- ツールチップによる説明
- 疑問符アイコンでの詳細説明
- コンテキスト別ヘルプ
- 動画チュートリアル埋め込み

#### 3.2 エラーハンドリング
**エラー表示パターン**:
- インライン検証（リアルタイム）
- フォーム送信時の統合エラー
- API通信エラーの明確な説明
- 復旧方法の提示

#### 3.3 成功フィードバック
**ポジティブフィードバック**:
- 操作完了の即座通知
- プログレスインジケーター
- 達成感のあるアニメーション
- 統計での成長可視化

### 4. レスポンシブデザイン

#### 4.1 ブレイクポイント
- **モバイル**: ~768px
- **タブレット**: 768px~1024px
- **デスクトップ**: 1024px~
- **大画面**: 1400px~

#### 4.2 モバイル固有の配慮
**モバイル最適化**:
- タッチフレンドリーなボタンサイズ（44px以上）
- スワイプジェスチャー対応
- 縦画面での効率的レイアウト
- 親指での操作範囲考慮

#### 4.3 タブレット体験
**タブレット特化機能**:
- 分割画面での並列作業
- Apple Pencil / スタイラス対応
- キーボードショートカット対応
- ランドスケープモード最適化

---

## ♿ アクセシビリティ要件

### 1. WCAG 2.1 AA準拠

#### 1.1 知覚可能性
**カラーとコントラスト**:
- 色のみに依存しない情報伝達
- テキストコントラスト比4.5:1以上
- 大きなテキストは3:1以上
- カラーブラインド対応

**代替テキスト**:
- 画像の適切なalt属性
- アイコンの意味説明
- グラフ・チャートのテキスト説明

#### 1.2 操作可能性
**キーボードアクセス**:
- 全機能のキーボード操作対応
- 論理的なTab順序
- フォーカスインジケーター
- キーボードトラップの回避

**時間制限**:
- 自動更新の制御機能
- セッションタイムアウト警告
- 時間延長オプション

#### 1.3 理解可能性
**明確な情報構造**:
- 適切な見出し階層
- ランドマークの使用
- 一貫したナビゲーション
- エラーメッセージの明確化

#### 1.4 堅牢性
**技術的堅牢性**:
- セマンティックHTML使用
- ARIA属性の適切な使用
- スクリーンリーダー対応
- 各種支援技術との互換性

### 2. 多言語対応

#### 2.1 国際化（i18n）
**対応言語**:
- 日本語（プライマリー）
- 英語
- 中国語（簡体字）
- 韓国語

**考慮事項**:
- 右から左（RTL）言語対応準備
- 文字数変動への対応
- 日付・数値フォーマット
- 文化的配慮

### 3. パフォーマンス配慮

#### 3.1 読み込み時間
**パフォーマンス目標**:
- 初回ページ読み込み: 3秒以内
- ページ遷移: 1秒以内
- API応答: 500ms以内
- 画像読み込み: 2秒以内

#### 3.2 最適化手法
**技術的最適化**:
- 画像の遅延読み込み
- コード分割
- CDN活用
- キャッシュ戦略

---

## 🔧 UI技術要件

### 1. 使用ライブラリ・フレームワーク

#### 1.1 メインフレームワーク
- **React 18+**: メインUIライブラリ
- **Next.js 14+**: フルスタックフレームワーク
- **TypeScript**: 型安全性

#### 1.2 UIライブラリ・コンポーネント
- **shadcn/ui**: ベースコンポーネント
- **Tailwind CSS**: スタイリング
- **Radix UI**: アクセシブルなプリミティブ
- **Framer Motion**: アニメーション

#### 1.3 機能特化ライブラリ
- **Monaco Editor**: コードエディタ（プロンプト編集）
- **React Hook Form**: フォーム管理
- **React Query**: データフェッチング
- **Zustand**: 状態管理

### 2. デザインシステム

#### 2.1 コンポーネント体系
**アトミックデザイン採用**:
- **Atoms**: Button, Input, Icon等
- **Molecules**: SearchBox, Card等
- **Organisms**: Header, Sidebar等
- **Templates**: PageLayout等
- **Pages**: 各画面コンポーネント

#### 2.2 スタイルガイド
**設計トークン**:
- カラーパレット
- タイポグラフィスケール
- スペーシングシステム
- シャドウとエフェクト
- ボーダーとradius

### 3. インタラクション設計

#### 3.1 マイクロインタラクション
**詳細設計**:
- ボタンホバー効果
- フォーム入力フィードバック
- ローディングアニメーション
- 成功・エラー表示
- ページ遷移効果

#### 3.2 レスポンシブパターン
**レイアウトパターン**:
- サイドバー折りたたみ
- モバイルナビゲーション
- テーブルの横スクロール
- モーダルの画面サイズ対応
